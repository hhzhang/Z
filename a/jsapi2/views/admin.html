<!DOCTYPE html>
<html>
<head>
    <% include includes/head.html %>
    <style>
        .CodeMirror{
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #fdfdfd;
        }
    </style>
</head>
<body>
    <% include admin/header.html %>
    <div class="container-fluid user-main">
        <ul class="nav nav-tabs nav-pills" role="tablist">
            <li class="active">
                <a href="#add" class="btn" role="button" data-toggle="tab" >添加API</a>
            </li>
            <li>
                <a href="#delete" class="btn" role="button" data-toggle="tab" >删除API</a>
            </li>
            <li>
                <a href="#modify" class="btn" role="button" data-toggle="tab" >修改api的名字</a>
            </li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane active" id="add">
                <form class="form-horizontal" role="form" >
                    <div class="col-md-9 panel panel-default">
                        <div class="form-group">
                            <h4>索引</h4>
                            <label class="col-sm-2 control-label" for="indexName">Api名称：</label>
                            <div class="col-sm-8">
                                <input name="api[name]" type="text" class="form-control" id="indexName" placeholder="name">
                            </div>
                            <div class="col-sm-2">
                                <span id="testBtn" class="btn btn-default">check</span>
                            </div>
                            <input id="apiId" name="api[id]" type="hidden" value="0">
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="indexName">Api类型：</label>
                            <div class="col-sm-10">
                                <div style="padding-left: 0" class="col-sm-3">
                                    <select id="apiType" name="api[type]" class="form-control">
                                        <option value="function" selected>请选择api类型</option>
                                        <option value="module">module</option>
                                        <option value="group">group</option>
                                        <option value="function">api</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="indexName">所在位置：</label>
                            <div class="col-sm-10">
                                <div style="padding-left: 0" class="col-sm-3">
                                    <select id="apiModule" class="form-control">
                                        <option value="0" selected>请选择所属模块</option>
                                        <% for(var i in list){ %>
                                        <% if(list[i].type == "module"){ %>
                                        <option value=<%=list[i].id%>><%=list[i].name%></option>
                                        <% } %>
                                        <% } %>
                                    </select>
                                </div>
                                <div class="col-sm-3">
                                    <select id="apiGroup" style="display: none" class="form-control" >
                                        <option value="-1" selected>请选择所属分组</option>
                                    </select>
                                </div>
                                <input id="apiPid" type="hidden" name="api[pId]" value="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <h4>APi doc</h4>
                            <label class="col-sm-2 control-label" for="apiDesc">api</label>
                            <div class="col-sm-10">
                                <textarea name="api[api]" class="form-control" id="apiDesc" rows="14" ></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <h4>可运行示例</h4>
                            <label class="col-sm-2 control-label" for="demoHtml">Html:</label>
                            <div class="col-sm-10">
                                <textarea name="api[demo][html]" class="form-control" rows="14" id="demoHtml" ></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="demoHtml">Css:</label>
                            <div class="col-sm-10">
                                <textarea name="api[demo][css]" class="form-control" rows="14" id="demoCss" ></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label" for="demoHtml">Js:</label>
                            <div class="col-sm-10">
                                <textarea name="api[demo][js]" class="form-control" rows="14" id="demoJs" ></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <h4>源代码</h4>
                            <label class="col-sm-2 control-label" for="resourceCode">code:</label>
                            <div class="col-sm-10">
                                <textarea name="api[code]" class="form-control" rows="14" id="resourceCode" ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 sidebar">
                        <button id="apiSubmit" type="submit" class="btn btn-primary">提交</button>
                    </div>
                </form>
            </div>
            <div class="tab-pane" id="delete" >
                <div class="col-md-9">
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="apiName" placeholder="name">
                    </div>
                    <div class="col-sm-2">
                        <span style="border: 1px solid #f00" id="deleteBtn" class="btn btn-default">删除</span>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="modify" >
                <div class="col-md-9">
                    <div class="col-sm-2">
                        <input type="text" class="form-control" id="oldApiName" placeholder="name">
                    </div>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" id="newApiName" placeholder="name">
                    </div>
                    <div class="col-sm-2">
                        <span style="border: 1px solid #f00" id="modifyApiName" class="btn btn-default">修改</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <% include admin/footer.html %>
</body>
</html>