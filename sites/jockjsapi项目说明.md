Jockjs API平台项目说明书
===

## 1. 项目背景
---

Jockjs是安居客目前使用最广泛的JS库，具有体积小、按需加载、高性能等特性，解决了很多业务中的前端难题，是前端工程师的开发利器。虽然Jockjs已经问世两年有余，但一直未有配套的API说明，这也成了Jockjs的一大痛点。由此引起了一些使用的问题和发展上的限制：

- ** 学习成本高： **

   新入职的前端工程师需要看源码来了解各个API的使用，增加了新入职同学的学习成本和心理负担；

- ** 重复写同一段代码： **

   有些APIs在Jockjs中已经实现，但是工程师并不知情，会出现重复造轮现象；

一个优秀的JS库需要良好的生态圈，需要不断的完善功能、优化实现方式，需要更多的人使用、建议、贡献代码等，因此，一个完整的API说明是不可或缺的一部分。

## 2. 需求分析
---

通过搜集工程师意见和调研一些知名的API平台，我们发现一个完整的API平台需要包括以下功能：

- ** 可视化添加和删除APIs： **

   APIs存入数据库，可对于APIs进行增、删、改、查操作；

- ** API说明： **

   包括各个参数详解，功能说明，语法，使用需要注意的事项，一些特殊用法；

- ** 源代码展示： **

   该API对应的源代码；
   
- ** 在线的示例运行： **

   可在线编辑运行代码；
   
- ** 搜索： **

   可根据API关键字检索到该API。
   
## 3. 核心技术

Jockjs API平台采用Bootstrap（前端）＋Nodejs（后端）＋MongoDB（数据库）开发。

### 前端框架——Bootstrap

Bootstrap是Twitter推出的一个开源的前端框架，具有丰富的web组件和js插件，可按需求裁剪扩展代码等特点。

### 后端技术——Nodejs

Node.js是基于Chrome's JavaScript runtime，一个可以快速构建网络服务及应用的平台，具有速度快，性能好等特点。

### 数据库——MongoDB

MongoDB是目前非常流行的一种非关系型数据库，具有高性能、易部署、易使用，存储数据非常方便等特点。项目涉及MongoDB数据库的增加，删除，更新，查找操作。
	
## 4. 项目设计
---

Jockjs API平台可以分为两部分：

### 项目模块图

1. 前端

使用bootstrap tree，tab，web编辑器CodeMirror，编辑保存功能。


2. 后端

配置链接，Ejs渲染tree结构，mongoDB增删改查


3. 数据库设计

		{
        	id: {
            	type: Number,
            	unique: true,
            	required: true,
            	default: 0
        	}, 
        	name: {
            	type: String,
            	unique: true,
            	required: true
        	},
        	pId: {
            	type: Number,
            	default: 0
        	},
        	type: {
            	type: String,
            	enum: ['module', 'group', 'function']
        	},
        	api: String,
        	demo: {
            	css: String,
            	js: String,
            	html: String
        	},
        	code: String
    	}


### 项目流程图

1. 输入网址
2. Ajax加载API数据
3. 判断是否有hash对应的api数据
4. 如果无显示欢迎页面
5. 如果有判断是否是API类型的节点
6. 如果是API类型的节点，模版引擎渲染该API说明页面，渲染示例页面，编辑和保存功能，渲染源代码页面
7. 如果不是API类型的节点渲染欢迎页面


## 4. 经验总结
---

通过这个项目自己的技术能力有所提高，同时也从这个项目中总结了一些适合自己的经验。

### 关于快速学习新知识

互联网相关的产品需要快速开发快速上线，然而互联网技术却是日新月异，不断更新，快速的学习能力是互联网开发工程师必备的技能，像nodejs，mongodb都是业务项目中没有接触到的新技术，通过这次项目我也总结了一些适合自己的学习方法：

   - ** 快速通读APIs： **
   
     对所学技术的内容和原理有大致了解，有一个全面的认识，切忌一边学一边用；

   - ** 熟悉一到两个开源项目： **
   
     针对项目中所要用到的模块，对照APIs熟悉一到两个开源的项目；

   - ** 问题集中解决： **
   
     在coding的过程中会遇到一些问题，可将这些问题记录，集中攻克，如果一边写一边找可能会因为思维发散，影响项目进度。
   

### 关于项目设计

项目设计是项目进展中的一个重要环节，关系到项目的开发能否顺利完成。但是自己在做项目设计这块总是急于求成，稍微设计一下就开始做，现在回顾一下，确实走了一些弯路，今后的项目会在以下方面提升：

   - ** 最简单和最复杂 **
   
   项目设计应该有两个版本，第一个是最基本的功能，最简单的骨架；第二个是所能想到的可能扩展的功能，这是一些肌肉，将这些肌肉完美的呈现在骨架上，不胖不瘦，观之可爱。
   
   - ** 怀疑自己 **
   
   如果有若干种方法可以实现功能，我坚持某一种方法放弃另外几种方法的理由是什么。
   
   - ** 讲给同事听 **
   
   如果一个人能把自己的想法清晰明了的传达给别人，说明他真的懂了，当然别人也会回馈自己的见解，可能是个很不错的想法，也可能是一针见血的建议；如果讲不出来，说明你想的并不是那么清楚，就更加需要大家共同讨论，梳理清楚一些问题。
   
***
 
*__[ The End, thanks. ]__*

